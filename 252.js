/*! For license information please see 252.js.LICENSE.txt */
(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[252],{5252:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>F});var l=n(2784),a=n(5992),r=n(2779),o=n.n(r);let s,u;!function(e){e.Step1="STEP_1",e.Step2="STEP_2",e.Step3="STEP_3"}(s||(s={})),function(e){e.Init="INIT",e.Next="NEXT",e.Back="BACK",e.Logout="LOGOUT"}(u||(u={}));var i=n(6062),p=n.n(i),c=n(4036),m=n.n(c),d=n(6793),S=n.n(d),g=n(7892),v=n.n(g),E=n(1173),b=n.n(E),f=n(2464),h=n.n(f),A=n(3827),y={};y.styleTagTransform=h(),y.setAttributes=v(),y.insert=S().bind(null,"head"),y.domAPI=m(),y.insertStyleElement=b(),p()(A.Z,y);const w=A.Z&&A.Z.locals?A.Z.locals:void 0;function F(){const[e]=(0,a.Db)("mutation LoginFlow($step: String,$action: String,\n  $loginStep1Input: LoginStep1Input, $loginStep2Input: LoginStep2Input) {\n  loginFlow(step: $step,action: $action,loginStep1Input:$loginStep1Input,loginStep2Input:$loginStep2Input) {\n    __typename\n    step\n    ... on LoginStep1 {\n      username\n      errors {\n        username\n      }\n    }\n    ... on LoginStep2 {\n      password\n      errors {\n        password\n      }\n    }\n  }\n}"),[t,n]=(0,l.useState)({}),r=(0,l.useCallback)((e=>(({target:{form:{name:e},name:t,value:l}})=>Boolean(console.log(["handleChange"],{step:e,name:t,value:l}))||n((n=>({...n,[e]:{...n[e],[t]:l}}))))(e)),[]),i=(0,l.useCallback)((l=>l.preventDefault()||(({target:{name:l},nativeEvent:{submitter:{value:a}}})=>Boolean(console.log(["handleSubmit"],{step:l,action:a}))||e({variables:Object.assign({step:l,action:a},{[s.Step1]:{[u.Next]:({username:e})=>({loginStep1Input:{username:e}})},[s.Step2]:{[u.Back]:()=>({}),[u.Next]:({password:e})=>({loginStep2Input:{password:e}})},[s.Step3]:{[u.Logout]:()=>({})}}[l][a](t[l]))}).then((({data:e})=>e.loginFlow)).then((({step:e,...t})=>n((()=>({[e]:t}))))))(l)),[t]);return(0,l.useEffect)((()=>e().then((({data:e})=>e.loginFlow)).then((({step:e,...t})=>n((()=>({[e]:t})))))),[]),l.createElement("section",{className:w.Section},l.createElement("h2",null,"Forms"),t[s.Step1]&&l.createElement("form",{className:o()(w.Form,t[s.Step1].errors&&w.invalid),name:s.Step1,onSubmit:i},l.createElement("fieldset",null,l.createElement("legend",null,"Step1"),l.createElement("div",null,l.createElement("label",{className:o()(w.Field,t[s.Step1].errors?.username&&w.invalid)},l.createElement("span",null,"Username"),l.createElement("input",{name:"username",value:t[s.Step1].username,onChange:r,autoFocus:!0}),t[s.Step1].errors?.username&&l.createElement("span",null,t[s.Step1].errors.username))),l.createElement("div",null,l.createElement("button",{type:"submit",name:"action",value:u.Next},"Next")))),t[s.Step2]&&l.createElement("form",{className:o()(w.Form,t[s.Step2].errors&&w.invalid),name:s.Step2,onSubmit:i},l.createElement("fieldset",null,l.createElement("legend",null,"Step2"),l.createElement("div",null,l.createElement("label",{className:o()(w.Field,t[s.Step2].errors?.password&&w.invalid)},l.createElement("span",null,"Password"),l.createElement("input",{name:"password",value:t[s.Step2].password,onChange:r,autoFocus:!0}),t[s.Step2].errors?.password&&l.createElement("span",null,t[s.Step2].errors.password))),l.createElement("div",null,l.createElement("button",{type:"submit",name:"action",value:u.Next},"Next"),l.createElement("button",{type:"submit",name:"action",value:u.Back},"Back")))),t[s.Step3]&&l.createElement("form",{className:o()(w.Form,t[s.Step3].errors&&w.invalid),name:s.Step3,onSubmit:i},l.createElement("fieldset",null,l.createElement("legend",null,"Step3"),l.createElement("div",null,l.createElement("label",null,l.createElement("span",null,"LoggedIn"))),l.createElement("div",null,l.createElement("button",{type:"submit",name:"action",value:u.Logout,autoFocus:!0},"Logout")))))}},2779:(e,t)=>{var n;!function(){"use strict";var l={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var o=a.apply(null,n);o&&e.push(o)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var s in n)l.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},3827:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var l=n(272),a=n.n(l),r=n(2609),o=n.n(r)()(a());o.push([e.id,".HHGfdvALL8opRFX4T2Dp{color:blue}.zmbUS4qY6hyGuScChGns.yjjddBYwRSMIzHy7W6JZ fieldset{border-color:red}.mrN0PYufDWOQtcym4TuQ.yjjddBYwRSMIzHy7W6JZ{color:red}","",{version:3,sources:["webpack://./src/containers/Forms.module.scss"],names:[],mappings:"AAAA,sBACE,UAAA,CAIE,oDACE,gBAAA,CAKJ,2CACE,SAAA",sourcesContent:[".Section {\n  color: blue;\n}\n.Form {\n  &.invalid {\n    fieldset {\n      border-color: red;\n    }\n  }\n}\n.Field {\n  &.invalid {\n    color: red;\n  }\n}\n"],sourceRoot:""}]),o.locals={Section:"HHGfdvALL8opRFX4T2Dp",Form:"zmbUS4qY6hyGuScChGns",invalid:"yjjddBYwRSMIzHy7W6JZ",Field:"mrN0PYufDWOQtcym4TuQ"};const s=o}}]);
//# sourceMappingURL=252.js.map