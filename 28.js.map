{"version":3,"file":"28.js","mappings":"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","sources":["webpack://@dev/web/./src/containers/Forms.module.scss?8e89","webpack://@dev/web/./src/containers/Forms.tsx","webpack://@dev/web/../../node_modules/classnames/index.js","webpack://@dev/web/./src/containers/Forms.module.scss"],"sourcesContent":["\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./Forms.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./Forms.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport cx from \"classnames\";\nimport styles from \"./Forms.module.scss\";\n\nenum Step {\n  Step1 = \"STEP_1\",\n  Step2 = \"STEP_2\",\n  Step3 = \"STEP_3\",\n}\n\nenum Action {\n  Init = \"INIT\",\n  Submit = \"SUBMIT\",\n  Next = \"NEXT\",\n  Back = \"BACK\",\n  Logout = \"LOGOUT\",\n}\n\nconst flow = ({\n  step = Step.Step1,\n  action = Action.Init,\n  ...data\n}: { step?: Step; action?: Action } = {}) =>\n  ({\n    [Step.Step1]: {\n      [Action.Init]: () => ({\n        step: Step.Step1,\n        username: \"\",\n      }),\n      [Action.Next]: ({ username }) =>\n        username\n          ? {\n              step: Step.Step2,\n              password: \"\",\n            }\n          : {\n              step,\n              username,\n              errors: {\n                username: \"Required!\",\n              },\n            },\n    },\n    [Step.Step2]: {\n      [Action.Back]: () => ({\n        step: Step.Step1,\n        username: \"\",\n      }),\n      [Action.Next]: ({ password }) =>\n        password\n          ? {\n              step: Step.Step3,\n            }\n          : {\n              step,\n              password,\n              errors: {\n                password: \"Required!\",\n              },\n            },\n    },\n    [Step.Step3]: {\n      [Action.Logout]: () => ({\n        step: Step.Step1,\n        username: \"\",\n      }),\n    },\n  }[step][action](data));\n\nexport default function Section() {\n  const [data, setData] = useState({});\n\n  const handleChange = useCallback(\n    (event) =>\n      (({\n        target: {\n          form: { name: step },\n          name,\n          value,\n        },\n      }) =>\n        Boolean(console.log([\"handleChange\"], { step, name, value })) ||\n        setData((data) => ({\n          ...data,\n          [step]: {\n            ...data[step],\n            [name]: value,\n          },\n        })))(event),\n    []\n  );\n  const handleSubmit = useCallback(\n    (event) =>\n      Promise.resolve(\n        event.preventDefault() || event\n        // Object.fromEntries(new FormData(event.target))\n      )\n        .then(\n          ({\n            target: { name: step },\n            nativeEvent: {\n              submitter: { value: action },\n            },\n          }) =>\n            Boolean(console.log([\"handleSubmit\"], { step, action })) ||\n            new Promise((resolve) =>\n              setTimeout(resolve, 200, flow({ ...data[step], step, action }))\n            )\n        )\n        .then(({ step, ...update }) => setData(() => ({ [step]: update }))),\n    [data]\n  );\n\n  useEffect(() => {\n    new Promise((resolve) => setTimeout(resolve, 200, flow())).then(\n      ({ step, ...update }) => setData(() => ({ [step]: update }))\n    );\n  }, []);\n\n  return (\n    <section className={styles.Section}>\n      <h2>Forms</h2>\n      {data[Step.Step1] && (\n        <form\n          className={cx(styles.Form, data[Step.Step1].errors && styles.invalid)}\n          name={Step.Step1}\n          onSubmit={handleSubmit}\n        >\n          <fieldset>\n            <legend>Step1</legend>\n            <div>\n              <label\n                className={cx(\n                  styles.Field,\n                  data[Step.Step1].errors?.username && styles.invalid\n                )}\n              >\n                <span>Username</span>\n                <input\n                  name=\"username\"\n                  value={data[Step.Step1].username}\n                  onChange={handleChange}\n                  autoFocus\n                />\n                {data[Step.Step1].errors?.username && (\n                  <span>{data[Step.Step1].errors.username}</span>\n                )}\n              </label>\n            </div>\n            <div>\n              <button type=\"submit\" name=\"action\" value={Action.Next}>\n                Next\n              </button>\n            </div>\n          </fieldset>\n        </form>\n      )}\n      {data[Step.Step2] && (\n        <form\n          className={cx(styles.Form, data[Step.Step2].errors && styles.invalid)}\n          name={Step.Step2}\n          onSubmit={handleSubmit}\n        >\n          <fieldset>\n            <legend>Step2</legend>\n            <div>\n              <label\n                className={cx(\n                  styles.Field,\n                  data[Step.Step2].errors?.password && styles.invalid\n                )}\n              >\n                <span>Password</span>\n                <input\n                  name=\"password\"\n                  value={data[Step.Step2].password}\n                  onChange={(e) =>\n                    setData((data) => ({\n                      ...data,\n                      [Step.Step2]: {\n                        ...data[Step.Step2],\n                        password: e.target.value,\n                      },\n                    }))\n                  }\n                  autoFocus\n                />\n                {data[Step.Step2].errors?.password && (\n                  <span>{data[Step.Step2].errors.password}</span>\n                )}\n              </label>\n            </div>\n            <div>\n              <button type=\"submit\" name=\"action\" value={Action.Next}>\n                Next\n              </button>\n              <button type=\"submit\" name=\"action\" value={Action.Back}>\n                Back\n              </button>\n            </div>\n          </fieldset>\n        </form>\n      )}\n      {data[Step.Step3] && (\n        <form\n          className={cx(styles.Form, data[Step.Step3].errors && styles.invalid)}\n          name={Step.Step3}\n          onSubmit={handleSubmit}\n        >\n          <fieldset>\n            <legend>Step3</legend>\n            <div>\n              <label>\n                <span>LoggedIn</span>\n              </label>\n            </div>\n            <div>\n              <button\n                type=\"submit\"\n                name=\"action\"\n                value={Action.Logout}\n                autoFocus\n              >\n                Logout\n              </button>\n            </div>\n          </fieldset>\n        </form>\n      )}\n    </section>\n  );\n}\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".HHGfdvALL8opRFX4T2Dp{color:blue}.zmbUS4qY6hyGuScChGns.yjjddBYwRSMIzHy7W6JZ fieldset{border-color:red}.mrN0PYufDWOQtcym4TuQ.yjjddBYwRSMIzHy7W6JZ{color:red}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/Forms.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,UAAA,CAIE,oDACE,gBAAA,CAKJ,2CACE,SAAA\",\"sourcesContent\":[\".Section {\\n  color: blue;\\n}\\n.Form {\\n  &.invalid {\\n    fieldset {\\n      border-color: red;\\n    }\\n  }\\n}\\n.Field {\\n  &.invalid {\\n    color: red;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Section\": \"HHGfdvALL8opRFX4T2Dp\",\n\t\"Form\": \"zmbUS4qY6hyGuScChGns\",\n\t\"invalid\": \"yjjddBYwRSMIzHy7W6JZ\",\n\t\"Field\": \"mrN0PYufDWOQtcym4TuQ\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","Step","Action","flow","step","Step1","action","Init","data","username","Next","Step2","password","errors","Back","Step3","Logout","Section","setData","useState","handleChange","useCallback","event","target","form","name","value","Boolean","console","log","handleSubmit","Promise","resolve","preventDefault","then","nativeEvent","submitter","setTimeout","update","useEffect","className","styles","cx","onSubmit","onChange","autoFocus","type","e","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","module","exports","default","___CSS_LOADER_EXPORT___","id","locals"],"sourceRoot":""}